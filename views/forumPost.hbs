<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Post</title>
    <link rel="stylesheet" href="/forumPost.css">
</head>
<body>

    <main>
        <article class="post" id = 'postContainer'>
            <h2 class="post-title" id = 'Title'></h2>
            <div class="post-content">
                <img src="" alt="" id = 'Image' class="post-image">
                <p class="post-text" id = 'Text'></p>
            </div>
            <hr>
            <div class="comments">
                <h3>Comments</h3>

            </div>
            <form action="#" method="POST" class="comment-form">
                <textarea name="comment" id="comment" rows="3" placeholder="Write a comment..."></textarea>
                <button type="submit">Post Comment</button>
            </form>
        </article>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        async function fetchPostBasedonID() {
            try {
                const postID = location.search.split('=')[1]
                const response = await axios.get(`/auth/api/PostFetchBasedOnID?id=${postID}`);
                const post = response.data[0];
                const titleElement = document.getElementById('Title');
                const imageElement = document.getElementById('Image');
                const textElement = document.getElementById('Text');

                titleElement.textContent = post.Title;
                imageElement.src = post.Picture;
                textElement.textContent = post.Text;
                  
            } catch (error) {
                console.error('Error fetching posts:', error);
            }
         }
         fetchPostBasedonID();

      </script>

</body>
</html>